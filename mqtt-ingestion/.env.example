# ============================================================
# FGB MQTT Ingestion Service Configuration (Simplified)
# ============================================================
# This service performs MINIMAL processing:
# - Saves raw MQTT payloads to mqtt_messages_raw
# - Extracts basic fields to telemetry table
# - ALL calculations (power, aggregation) happen in DATABASE
# ============================================================

# Supabase Configuration (REQUIRED)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# MQTT Configuration
MQTT_BROKER_URL=mqtt://data.hub.fgb-studio.com:1883
MQTT_USERNAME=srvFGB_wxL21mZ
MQTT_PASSWORD=aGXehhJfWczCR47uN85FwPykM3hLQVYJVfO

# Topics to subscribe (comma-separated)
MQTT_TOPICS=fosensor/#,bridge/#,MSCHN/#

# Default site ID for auto-registering new devices
DEFAULT_SITE_ID=

# Ingestion Settings
BATCH_SIZE=100
BATCH_INTERVAL_MS=5000

# Save raw MQTT messages (audit log)
SAVE_RAW_MESSAGES=true

# Retry Configuration
MAX_RETRIES=5
RETRY_BASE_DELAY_MS=1000

# Logging
LOG_LEVEL=info

# Health Server
PORT=3001
